<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.png">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"liu-yx.cn","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Stupidpanther&#39;s Blog">
<meta property="og:url" content="https://liu-yx.cn/default-index/index.html">
<meta property="og:site_name" content="Stupidpanther&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="stupidpanther">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://liu-yx.cn/default-index/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Stupidpanther's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Stupidpanther's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-blogs">

    <a href="/categories/blogs" rel="section"><i class=" fa-fw"></i>Blogs</a>

  </li>
        <li class="menu-item menu-item-bad">

    <a href="/404" rel="section"><i class=" fa-fw"></i>Bad</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/uncategorized/compiler-lab-3-testscript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/uncategorized/compiler-lab-3-testscript/" class="post-title-link" itemprop="url">compiler-lab-3-testscript</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-05-05 19:58:46 / Modified: 20:19:11" itemprop="dateCreated datePublished" datetime="2022-05-05T19:58:46+08:00">2022-05-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>本文将贴出用于编译实验3的自动测试脚本源码。</strong></p>
<p>涉及版权，本文将不会提供 <code>irsim.pyc</code> 虚拟机小程序和任何官方测试样例。</p>
<p>脚本的运行需要配置<code>python3</code>等环境，相信对于大家来说不是问题，后文也会对环境配置给予讨论。</p>
<p>OK，进入正题。首先明确，本脚本判断测试是否正确的标准 <em>是</em>：<strong>执行你的编译器编译得到的IR程序，是否能产生预期的输出</strong>。</p>
<h2 id="本地文件结构"><a href="#本地文件结构" class="headerlink" title="本地文件结构"></a>本地文件结构</h2><p>使用脚本自动测试，需要按照如下所示组织本地文件结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── auto_run_irsim.py   # 与运行irsim.pyc相关的脚本</span><br><span class="line">├── run.py              # 自动化测试脚本，即你要执行的脚本</span><br><span class="line">├── irsim.pyc -&gt; &#x2F;home&#x2F;me&#x2F;Compiler&#x2F;irsim&#x2F;irsim.pyc  # 链接到irsim.pyc的软链接</span><br><span class="line">├── expects             # 你期望的输出（即执行C--编译器输出的IR文件所期望的输出）</span><br><span class="line">│   └── doc.1.1.expect</span><br><span class="line">├── inputs              # 测试样例（用C--语言编写）</span><br><span class="line">│   └── doc.1.1.cmm</span><br><span class="line">├── irs                 # 编译测试样例得到的IR文件（该文件夹无需预先新建）</span><br><span class="line">├── outputs             # 执行IR程序的实际输出（该文件夹无需预先新建）</span><br><span class="line">└── texts               # 执行IR程序所对应的stdin（即执行IR程序时本需要手工输入的数据）</span><br><span class="line">    └── doc.1.1.text</span><br></pre></td></tr></table></figure>

<p><code>run.py</code>和<code>auto_run_irsim.py</code>的代码将在稍后贴出。接下来将会解释<code>inputs</code>，<code>texts</code>，<code>expects</code>文件夹中的文件应如何准备（即如何准备测试样例）。</p>
<h2 id="准备测试样例"><a href="#准备测试样例" class="headerlink" title="准备测试样例"></a>准备测试样例</h2><h4 id="inputs文件夹：C–语言源程序"><a href="#inputs文件夹：C–语言源程序" class="headerlink" title="inputs文件夹：C–语言源程序"></a><code>inputs</code>文件夹：C–语言源程序</h4><p>无需多说，C–语言源程序符合实验手册要求即可。需要注意，<code>inputs</code>文件夹中的文件名（不含后缀）需要与<code>texts</code>和<code>expects</code>文件夹中对应的文件<strong>相同</strong>，正如上文中的文件结构图所示。</p>
<p>下面给出一个示例：<code>doc.1.1.cmm</code>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a;</span><br><span class="line">	<span class="keyword">int</span> b;</span><br><span class="line">	read(a);</span><br><span class="line">	b = a + <span class="number">1</span>;</span><br><span class="line">	write(b);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="texts文件夹：执行IR程序需要的stdin内容（即本需手工输入的数据）"><a href="#texts文件夹：执行IR程序需要的stdin内容（即本需手工输入的数据）" class="headerlink" title="texts文件夹：执行IR程序需要的stdin内容（即本需手工输入的数据）"></a><code>texts</code>文件夹：执行IR程序需要的stdin内容（即本需手工输入的数据）</h4><p>C–语言源程序中如果调用了<code>read</code>函数，那么，在执行其对应的IR时，需要手工输入数据，这里将本应手工输入的数据写在<code>texts</code>文件夹中后缀为<code>.text</code>的文件中。</p>
<p>注意：每个数据<strong>均以</strong>换行符结束，文件的后缀<strong>必须</strong>为<code>.text</code>。</p>
<p>下面给出一个示例：<code>doc.1.1.text</code>，这个示例恰对应于上文中的<code>doc.1.1.cmm</code>，注意数字100后有一个换行符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">100</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="expects文件夹：执行IR程序期望获得的输出"><a href="#expects文件夹：执行IR程序期望获得的输出" class="headerlink" title="expects文件夹：执行IR程序期望获得的输出"></a><code>expects</code>文件夹：执行IR程序期望获得的输出</h4><p>脚本会自动执行你的C–编译器，并将生成的IR程序存于<code>irs</code>文件夹中；之后，脚本自动运行<code>irsim.qyc</code>虚拟机小程序，使用其执行刚刚生成的IR程序，并将输出结果写入<code>outputs</code>文件夹中。</p>
<p>你要做的，是将你所期望的输出结果写入<code>expects</code>文件夹中以<code>.expect</code>为结尾的文件中。</p>
<p>注意：文件的结束<strong>没有</strong>换行符，文件的后缀<strong>必须</strong>为<code>.expect</code>。</p>
<p>下面给出一个示例：<code>doc.1.1.expect</code>，这个示例恰对应于上文中的源程序和stdin。根据源程序的语义，应期望输出整数101，注意数字101后没有换行符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">101</span><br></pre></td></tr></table></figure>

<h2 id="脚本源代码"><a href="#脚本源代码" class="headerlink" title="脚本源代码"></a>脚本源代码</h2><p>下面的脚本由python3书写。</p>
<h4 id="脚本run-py"><a href="#脚本run-py" class="headerlink" title="脚本run.py"></a>脚本<code>run.py</code></h4><p>注意：对于脚本，有唯一一处<strong>必要</strong>的修改，在第42行，详见注释。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> auto_run_irsim</span><br><span class="line"></span><br><span class="line">ESC_RED=<span class="string">&quot;\033[31m&quot;</span></span><br><span class="line">ESC_GREEN=<span class="string">&quot;\033[32m&quot;</span></span><br><span class="line">ESC_CYAN=<span class="string">&quot;\033[36m&quot;</span></span><br><span class="line">ESC_END=<span class="string">&quot;\033[0m&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">RunParser</span>(<span class="params">executable, input_file_full_name, ir_file_full_name, output_file_full_name</span>):</span></span><br><span class="line">    os.system(<span class="string">&quot;touch &quot;</span> + output_file_full_name)</span><br><span class="line">    os.system(executable + <span class="string">&quot; &quot;</span> + input_file_full_name + <span class="string">&quot; &quot;</span> + ir_file_full_name + <span class="string">&quot; &gt; &quot;</span> + output_file_full_name)</span><br><span class="line">    f = <span class="built_in">open</span>(output_file_full_name)</span><br><span class="line">    output_text = f.read()</span><br><span class="line">    f.close()</span><br><span class="line">    <span class="keyword">if</span> output_text == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="built_in">print</span>(ESC_CYAN + <span class="string">&quot;script running...&quot;</span> + ESC_END)</span><br><span class="line"></span><br><span class="line">        start_time = time.asctime(time.localtime(time.time()))</span><br><span class="line"></span><br><span class="line">        num_total_files=<span class="number">0</span></span><br><span class="line">        num_pass_files=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># mission start</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line"></span><br><span class="line">        output_dir_name = <span class="string">&quot;./outputs/&quot;</span></span><br><span class="line">        ir_dir_name = <span class="string">&quot;./irs/&quot;</span></span><br><span class="line">        input_text_dir_name = <span class="string">&quot;./texts/&quot;</span></span><br><span class="line">        input_dir_name  = <span class="string">&quot;./inputs/&quot;</span></span><br><span class="line">        expect_dir_name = <span class="string">&quot;./expects/&quot;</span></span><br><span class="line">        executable = <span class="string">&quot;../cc&quot;</span> <span class="comment"># 请将双引号内修改为你的编译器的绝对地址 或 相对于本文件夹的相对地址</span></span><br><span class="line">        irsim = <span class="string">&quot;./irsim.pyc&quot;</span></span><br><span class="line">        output_file_suffix = <span class="string">&quot;.output&quot;</span></span><br><span class="line">        ir_file_suffix = <span class="string">&quot;.ir&quot;</span></span><br><span class="line">        input_text_suffix = <span class="string">&quot;.text&quot;</span></span><br><span class="line">        expect_file_suffix = <span class="string">&quot;.expect&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># make ir/output dir</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(ir_dir_name):</span><br><span class="line">            os.makedirs(ir_dir_name)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(output_dir_name):</span><br><span class="line">            os.makedirs(output_dir_name)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># traverse input files</span></span><br><span class="line">        <span class="keyword">for</span> root_dir, dirs, files <span class="keyword">in</span> os.walk(input_dir_name):</span><br><span class="line">            <span class="keyword">for</span> input_file_name <span class="keyword">in</span> files:</span><br><span class="line">                num_total_files += <span class="number">1</span></span><br><span class="line">                <span class="comment"># === process an input file ===</span></span><br><span class="line">                file_pass = <span class="literal">True</span>     <span class="comment"># is this file pass</span></span><br><span class="line">                input_file_full_name = root_dir + input_file_name</span><br><span class="line">                input_file_pure_name = (re.findall(<span class="string">r&quot;(.+)\.&quot;</span>, input_file_name))[<span class="number">0</span>]</span><br><span class="line">                output_file_full_name = output_dir_name + input_file_pure_name + output_file_suffix</span><br><span class="line">                ir_file_full_name = ir_dir_name + input_file_pure_name + ir_file_suffix</span><br><span class="line">                input_text_file_full_name = input_text_dir_name + input_file_pure_name + input_text_suffix</span><br><span class="line">                expect_file_full_name = expect_dir_name + input_file_pure_name + expect_file_suffix</span><br><span class="line">                <span class="comment"># get output</span></span><br><span class="line">                <span class="comment">### ====== STEP I  ====== </span></span><br><span class="line">                run_rst = <span class="number">0</span></span><br><span class="line">                compile_rst = <span class="number">0</span></span><br><span class="line">                compile_rst = RunParser(executable, input_file_full_name, ir_file_full_name, output_file_full_name)</span><br><span class="line">                <span class="keyword">if</span> compile_rst == <span class="number">0</span>:</span><br><span class="line">                    <span class="comment">### == STEP II ====== </span></span><br><span class="line">                    auto_run_irsim.RunIRSim()</span><br><span class="line">                    f = <span class="built_in">open</span>(input_text_file_full_name)</span><br><span class="line">                    input_text = f.read()</span><br><span class="line">                    f.close()</span><br><span class="line">                    input_text_lines = input_text.split(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">                    input_text_lines.remove(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">                    run_rst = auto_run_irsim.RunTestCase(ir_file_full_name, output_file_full_name, input_text_lines)</span><br><span class="line">                    auto_run_irsim.StopIRSim()</span><br><span class="line">                <span class="comment">### ====================</span></span><br><span class="line">                <span class="keyword">if</span> run_rst != <span class="number">0</span>:</span><br><span class="line">                    file_pass = <span class="literal">False</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> compile_rst != <span class="number">0</span>:</span><br><span class="line">                        <span class="built_in">print</span>(input_file_full_name, <span class="string">&quot;Compile error, ignore.&quot;</span>)</span><br><span class="line">                    <span class="comment"># read output file</span></span><br><span class="line">                    f = <span class="built_in">open</span>(output_file_full_name)</span><br><span class="line">                    my_lines = f.readlines()</span><br><span class="line">                    f.close()</span><br><span class="line">                    <span class="comment"># read expect file</span></span><br><span class="line">                    f = <span class="built_in">open</span>(expect_file_full_name)</span><br><span class="line">                    official_lines = f.readlines()</span><br><span class="line">                    f.close</span><br><span class="line">                    <span class="comment"># compare</span></span><br><span class="line">                    <span class="keyword">if</span> my_lines == official_lines:</span><br><span class="line">                        file_pass = <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        file_pass = <span class="literal">False</span></span><br><span class="line">                <span class="comment"># print result</span></span><br><span class="line">                <span class="keyword">if</span> file_pass == <span class="literal">True</span>:</span><br><span class="line">                    num_pass_files += <span class="number">1</span></span><br><span class="line">                    <span class="built_in">print</span>(ESC_GREEN + <span class="string">&quot;PASS &quot;</span> + input_file_full_name + ESC_END)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="built_in">print</span>(ESC_RED + <span class="string">&quot;FAIL &quot;</span> + input_file_full_name + ESC_END, file=sys.stderr)</span><br><span class="line">                    <span class="built_in">print</span>(ESC_CYAN + <span class="string">&quot;&gt;&gt;&gt;&quot;</span> + expect_file_full_name + <span class="string">&quot;&gt;&gt;&gt;&quot;</span> + ESC_END)</span><br><span class="line">                    os.system(<span class="string">&quot;cat &quot;</span> + expect_file_full_name)</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">                    <span class="built_in">print</span>(ESC_CYAN + <span class="string">&quot;&gt;&gt;&gt;&quot;</span> + output_file_full_name + <span class="string">&quot;&gt;&gt;&gt;&quot;</span> + ESC_END)</span><br><span class="line">                    os.system(<span class="string">&quot;cat &quot;</span> + output_file_full_name)</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">                    </span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment"># mission complete</span></span><br><span class="line"></span><br><span class="line">        end_time = time.asctime(time.localtime(time.time()))</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;------&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;number of total files: &quot;</span>, num_total_files )</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;number of pass  files: &quot;</span>, num_pass_files  )</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;------&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(ESC_CYAN + <span class="string">&quot;start at &quot;</span> + start_time + ESC_END)</span><br><span class="line">        <span class="built_in">print</span>(ESC_CYAN + <span class="string">&quot;end   at &quot;</span> + end_time   + ESC_END)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> num_total_files == num_pass_files:</span><br><span class="line">            sys.exit(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            sys.exit(-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> excep:</span><br><span class="line">        <span class="built_in">print</span>(excep, file=sys.stderr)</span><br><span class="line">        sys.exit(-<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="脚本auto-run-irsim-py"><a href="#脚本auto-run-irsim-py" class="headerlink" title="脚本auto_run_irsim.py"></a>脚本<code>auto_run_irsim.py</code></h4><p>这个脚本无需修改任何内容。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pyautogui</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> gi</span><br><span class="line">gi.require_version(<span class="string">&#x27;Wnck&#x27;</span>, <span class="string">&#x27;3.0&#x27;</span>)</span><br><span class="line"><span class="keyword">from</span> gi.repository <span class="keyword">import</span> Wnck</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">RunIRSim</span>():</span></span><br><span class="line">    os.system(<span class="string">&quot;python ./irsim.pyc &amp;&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">0.75</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">StopIRSim</span>():</span></span><br><span class="line">    pyautogui.hotkey(<span class="string">&#x27;alt&#x27;</span>, <span class="string">&#x27;f4&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">RunTestCase</span>(<span class="params">testcase_name, output_name, input_text_lines</span>):</span></span><br><span class="line">    pyautogui.hotkey(<span class="string">&#x27;ctrl&#x27;</span>, <span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    pyautogui.typewrite(testcase_name)</span><br><span class="line">    pyautogui.press(<span class="string">&#x27;enter&#x27;</span>)</span><br><span class="line">    time.sleep(<span class="number">0.05</span>)</span><br><span class="line">    <span class="comment"># run</span></span><br><span class="line">    pyautogui.press(<span class="string">&#x27;f5&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> input_text_lines: <span class="comment"># enter input</span></span><br><span class="line">        pyautogui.typewrite(line) </span><br><span class="line">        pyautogui.press(<span class="string">&#x27;enter&#x27;</span>)</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    <span class="comment"># check if successful</span></span><br><span class="line">    src = Wnck.Screen.get_default()</span><br><span class="line">    src.force_update()</span><br><span class="line">    window_title = src.get_active_window().get_name()</span><br><span class="line">    src = <span class="literal">None</span></span><br><span class="line">    Wnck.shutdown()</span><br><span class="line">    pyautogui.press(<span class="string">&#x27;enter&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> window_title != <span class="string">&quot;Finish&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># scroll</span></span><br><span class="line">        pyautogui.moveTo(<span class="number">836</span>, <span class="number">533</span>)</span><br><span class="line">        pyautogui.dragTo(<span class="number">836</span>, <span class="number">350</span>)</span><br><span class="line">        <span class="comment"># select</span></span><br><span class="line">        pyautogui.moveTo(<span class="number">492</span>, <span class="number">400</span>)</span><br><span class="line">        pyautogui.mouseDown()</span><br><span class="line">        pyautogui.moveTo(<span class="number">855</span>, <span class="number">626</span>)</span><br><span class="line">        time.sleep(<span class="number">1.2</span>)</span><br><span class="line">        pyautogui.mouseUp()</span><br><span class="line">        pyautogui.hotkey(<span class="string">&#x27;ctrl&#x27;</span>, <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">        os.system(<span class="string">&quot;xclip -o &gt; &quot;</span> + output_name)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="脚本使用"><a href="#脚本使用" class="headerlink" title="脚本使用"></a>脚本使用</h2><p>首先赋予脚本执行权限：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./run.py</span><br><span class="line">chmod +x ./auto_run_irsim.py</span><br></pre></td></tr></table></figure>

<p>要自动化执行测试样例，在当前目录下，执行以下命令：(注意，脚本运行期间，<strong>不要</strong>使用鼠标、<strong>不要</strong>使用键盘)</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./run.py</span><br></pre></td></tr></table></figure>

<p>在我的本地环境，得到以下输出：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">script running...</span><br><span class="line">PASS ./inputs/doc.2.2.cmm</span><br><span class="line">PASS ./inputs/doc.1.1.cmm</span><br><span class="line">PASS ./inputs/doc.3.1.cmm</span><br><span class="line">PASS ./inputs/doc.2.1.cmm</span><br><span class="line">PASS ./inputs/doc.1.3.cmm</span><br><span class="line">PASS ./inputs/doc.2.3.cmm</span><br><span class="line">PASS ./inputs/doc.4.1.cmm</span><br><span class="line">PASS ./inputs/doc.1.2.cmm</span><br><span class="line">------</span><br><span class="line">number of total files:  8</span><br><span class="line">number of pass  files:  8</span><br><span class="line">------</span><br><span class="line">start at Thu May  5 18:24:56 2022</span><br><span class="line">end   at Thu May  5 18:25:28 2022</span><br></pre></td></tr></table></figure>

<h2 id="环境依赖"><a href="#环境依赖" class="headerlink" title="环境依赖"></a>环境依赖</h2><p>最后，如你所见，脚本中使用了如<code>pyAutoGUI</code>等第三方包。虽然安装它们并不难，但在这里多说几句也不是坏事。</p>
<p>再次强调，本脚本依赖于 Python 3，我的本地环境是：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">me@ubuntu:~$ uname -a</span><br><span class="line">Linux ubuntu 4.15.0-142-generic #146~16.04.1-Ubuntu SMP Tue Apr 13 09:27:15 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</span><br><span class="line">me@ubuntu:~$ python3 --version</span><br><span class="line">Python 3.5.2</span><br><span class="line">me@ubuntu:~$ python3 -m pip --version</span><br><span class="line">pip 20.3.4 from /home/me/.local/lib/python3.5/site-packages/pip (python 3.5)</span><br></pre></td></tr></table></figure>

<p>另外，脚本需要安装<em>包括但不限于</em>以下依赖：</p>
<p><code>pyAutoGUI</code>，<code>Wnck</code>。</p>
<p>关于<code>pyAutoGUI</code>，有人并不建议在 Ubuntu 16.04 上使用，但限于实验要求，不得不作出让步。我确实注意到，在安装<code>pyAutoGUI</code>时，有些其依赖没有安装成功；不过，本着“能用就是好用”的原则，经过实践，这并没有影响我实现这个自动化测试脚本。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>写这个脚本的主要目的是自用，而不是面向用户体验，所以用起来有些繁琐在所难免。</p>
<p>祝我和大家实验愉快。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/uncategorized/grad-design-log/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/uncategorized/grad-design-log/" class="post-title-link" itemprop="url">毕设日志</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-25 21:11:36" itemprop="dateCreated datePublished" datetime="2022-03-25T21:11:36+08:00">2022-03-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-05-06 21:51:07" itemprop="dateModified" datetime="2022-05-06T21:51:07+08:00">2022-05-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="2022-03-25"><a href="#2022-03-25" class="headerlink" title="2022-03-25"></a>2022-03-25</h2><p>完成 getArrayElementExpr() mkStoreConstraint() mkLoadConstraint() 的FP相关编码.</p>
<p>目前的问题: </p>
<ul>
<li>assert(L179) fail : arrayIndex超标. 2个疑惑: 为什么index的单位似乎是byte, 而不是sizeof(float). 为什么index会越界.</li>
<li>测试样例int和float的表现不一致</li>
</ul>
<p>可能的解决方向: </p>
<ul>
<li>了解路径遍历的机制, 探究为什么会遍历到index越界的路径</li>
<li>已经编码的实现错误, 或更多的地方需要编码</li>
</ul>
<p>接下来的任务: </p>
<ul>
<li>z3的表达式类型</li>
<li>llvm IR</li>
<li>malloc时对堆区的建模(InstParser)</li>
<li>指针相关验证的学术界方法(看论文)</li>
</ul>
<h2 id="2022-03-28"><a href="#2022-03-28" class="headerlink" title="2022-03-28"></a>2022-03-28</h2><p>确定了brick的main branch存在的bug，设计了第一个测试样例。</p>
<p>往期问题解答：</p>
<ul>
<li>int和float的表现不一致：minisat给出的结果不一致（BoundedVerifier:L285），后续线索中断。</li>
<li>arrayIndex越界，这是一个bug！目前已知其存在于commit 31389c1中。</li>
</ul>
<p>预备向上问题报告：</p>
<ul>
<li>BVVerifier:L186的assert单位不一致吧，arrayIndex单位是sizeof(type)，memSize单位是byte。导致这个问题的bug可能原生存在于commit 31389c1。（已报告）</li>
<li>为什么int类型数组的测试样例总是报告minisat.solver.FALSE导致可以不进入BVVerifier的solver。（未报告，觉得意义不大）</li>
<li>brs1f.c验证时报告!=INTNUM的assert，是因为不想做malloc(变量)吗。（已报告）</li>
</ul>
<p>遇到的问题和意向解决方法：</p>
<ul>
<li><p>确定从哪个分支开始编码：<br>  测试用例：</p>
<pre><code>  brs1.c 观察assert !=INTNUM
  test_case_brs1.c 观察assert ArrayIndex out of bound
</code></pre>
<p>（已解决，最新分支，等待学长完成debug）</p>
</li>
<li><p>规避assert限制：<br>  取消编译优化<br>（已解决，等待学长给找测试样例，因为旧的测试针对的是memmory safety，而需要的测试是数值计算相关的）</p>
</li>
<li><p>test_case_brs1_f-A.c 为什么会FAIL，理论上.ll：L71处的跳转不应实现<br>  那么，是否是cfg的path生成有问题？<br>（已解决，因为N可能&lt;0）</p>
</li>
<li><p>为什么int类型数组的测试样例总是报告minisat.solver.FALSE，minisat.solve做了什么？<br>TODO <strong>未解决！</strong></p>
</li>
</ul>
<h2 id="2022-03-29"><a href="#2022-03-29" class="headerlink" title="2022-03-29"></a>2022-03-29</h2><p>阅读了instParser的parseCall中的malloc部分处理代码，该部分代码将IR表达成Constraint。<br><em>「批注」</em>实际上，是要看InstParser和mkMallocConstraint，况且目前的代码仅仅对malloc(常数)的情况做了建模，真正艰巨的任务还没有完成。</p>
<p>找了一些中文文献，没有找到对内存建模的新颖描述。令，多关于内存安全验证，但应寻找数值计算的文献。</p>
<p>预备向上报告：</p>
<ul>
<li>BVVerifier::mkMallocConstraint中heapMemory的memSize应该直接取llvm ir中call malloc的参数吗？参数的单位是字节，但这里似乎不需要字节。（未报告：暂时不去管这里，memSize直接取字节比较方便，但是getArrayElementExpr中使用时要谨慎，似乎有的代码不对，要改，等最新版代码出来，再做定夺）</li>
</ul>
<p>遇到的问题和意向解决方法：</p>
<ul>
<li>heapMemory::memSize为什么需要是Variable*类型，这里似乎用uint32_t就够了？<br>(已解决：因为这是个表达式啊)</li>
</ul>
<h2 id="2022-04-01"><a href="#2022-04-01" class="headerlink" title="2022-04-01"></a>2022-04-01</h2><p>parseAllocaInst部分FP相关编码。<br>mkGetPtrExpr函数var1.size==1时FP相关编码。<br>mkMemStoreConstraint中FP相关代码修改。<br>测试用例data_structures_set_malloc_f.c通过（获得SUCCESS和FAIL的结果）。</p>
<p>预备向上报告：</p>
<ul>
<li><p>为什么mkGetPtrExpr函数var1.size==1时FP相关编码和INT部分完全一致即可？如若如此，为什么要分类？</p>
</li>
<li><p>memmory check时alloc指令未实现？</p>
</li>
</ul>
<h2 id="2022-04-26"><a href="#2022-04-26" class="headerlink" title="2022-04-26"></a>2022-04-26</h2><p>(其实4月初也有通过测试样例 <code>data_structures_set_malloc.c</code> 和 <code>data_structures_set_malloc_f.c</code>, 以及提交中期报告啊…)</p>
<p>在更新了学长的最新提交后, 仍确认data_structures_set_malloc.c, data_structures_set_malloc_f.c通过</p>
<h2 id="2022-05-01"><a href="#2022-05-01" class="headerlink" title="2022-05-01"></a>2022-05-01</h2><p>(躺平了3个星期之后终于开始干活了…)</p>
<p>自己实现一遍malloc, 方法是解析函数my_malloc, 测试brick是否工作正常. 测试样例test_my_malloc/my_malloc_i.c和test_my_malloc/my_malloc_f.c由data_structures_set_malloc.c和data_structures_set_malloc_f.c修改而来. 未实现功能时, 运行测试样例产生段错误; 完成框架代码后(8个文件, 27行代码), 运行测试样例仍产生段错误; 完成全部代码(8个文件, 133行代码), 通过测试样例.</p>
<p>store遇到循环时的处理, 尚未发现可以误触FAIL的测试样例, 没有查看.ll源码看是否有循环. 认为: 看是否真的重复生成了store相关的约束应该在生成约束时打印z3表达式, 然后比对是否存在如”x1==x2, x1==x3”的约束.</p>
<h2 id="2022-05-02"><a href="#2022-05-02" class="headerlink" title="2022-05-02"></a>2022-05-02</h2><p>找store遇到循环时的样例，需要兼顾“llvm ir中编译出malloc函数”，“对数组元素的操作在llvm ir中编译出store指令”。但目前未找到遇到循环的样例。loop_3.c样例中有store操作（offset已知）出现循环，但exprl和exprr均为相同的变量，此处可以深挖，即exprr是如何来的，其来源可能是随机的。loop_3.c加了一个大循环，似乎失败。尝试在data_structures_set_malloc.c修改得到测试样例，失败，原因是原样例过于复杂，不易判断是否对相同数组元素进行了多次store操作，但是后来发现还是可以进行下去的。</p>
<p>loop_4.c突破：<code>main.%0    Pointer = store main.call23    Int</code>约束出现两次，其中call23均为“=NONDET”，但生成z3约束时均为<code>exprl: |Brick.ARRAY.HEAPMEM:0.element:0| exprr: main.call23_0</code>，需要探究，为何右侧约束名字都一致，是不是生成z3约束时细节有问题，即求exprr时，是否由于名字相同，直接去z3表达式数组中去找了。这种情况对于store虽然没错，但别的操作会不会有问题？能否找到反例？</p>
<p>loop_5.c找到一个不相关的bug：如果将SIZE改为100会报SUCCESSFUL但实际应为FAILED，后续应下载最新brick代码，编译后测试该bug是否还存在，避免是本地分支错误修改代码所致。又发现一个bug：写在loop_5_bug.c里了。loop_5_bug_2.c在提交40a88ea1上关闭memoryBoundCheck后FAILED，但我认为应该是SUCCESSFUL的。</p>
<p>目前的计划是在历史某个main的提交上找到一个没有store循环操作时表现正常的样例，然后测试其在有store循环时是否产生FAILED或者程序运行错误等，若是SUCCESSFUL，则要观察是否是假SUCCESSFUL(即找出报SUCCESSFUL的原因，是真的考虑到了store操作可能在循环中的情况，还是没有考虑到这种情况，但巧合报SUCCESSFUL了)。如果这条路走不通，也可以先实现处理store在循环中的代码，至于测试样例，后面再说。</p>
<h2 id="2022-05-03"><a href="#2022-05-03" class="headerlink" title="2022-05-03"></a>2022-05-03</h2><p>按照自己的理解实现了heapMemory部分的循环中出现store指令的brick代码，但苦于找不到测试样例，这部分准备求助学长。</p>
<p>需要写论文了，先写大纲，然后写文献综述。</p>
<h2 id="2022-05-04"><a href="#2022-05-04" class="headerlink" title="2022-05-04"></a>2022-05-04</h2><p>去网上找论文。</p>
<p>初始化了论文模板NJU Thesis，写了论文大纲。</p>
<h2 id="2022-05-06"><a href="#2022-05-06" class="headerlink" title="2022-05-06"></a>2022-05-06</h2><p>整理了论文写作的经验，发现了形式化方法领域的几篇好综述（中文），撰写了论文的绪论部分（截止目前论文3208字）。</p>
<h2 id="论文写作"><a href="#论文写作" class="headerlink" title="论文写作"></a>论文写作</h2><ul>
<li>观点<ul>
<li>软件技术蓬勃发展，应用面十分广泛（是不是可以顺带提一句C语言）</li>
<li>软件正确性很重要</li>
<li>软件正确性很难保证（为什么？开发流程，软件的性质.代码量易于激增，判断软件是否正确本身就是难事）</li>
</ul>
</li>
<li>方法<ul>
<li>普适方法<ul>
<li>适时举例子</li>
<li>剖析原因</li>
</ul>
</li>
<li>背景、研究现状<ul>
<li>分析同种类别的其他技术（如 软件验证 vs 软件测试）对方是什么，有哪些分类，如何工作，有哪些优点和不足，什么时候会有不足，不足是因为什么造成的。我们的方法历史源头，理论基础，主要分类；不同类别技术如何诞生的，工作原理介绍（尤其是如何生效的部分，如发现违反性质的行为），技术可以产生什么结果。</li>
</ul>
</li>
<li>目的、流程、方法<ul>
<li>别人的思路、手段，有哪些局限性（举例子），会导致什么后果（如精读不高、速度不够）</li>
<li>本文做了什么（分点写，提出了什么方法，实现了什么工具）</li>
<li>文章组织结构（技术介绍，提出xx方法，实现xx系统+实验，总结展望）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="TO-DO"><a href="#TO-DO" class="headerlink" title="TO DO"></a>TO DO</h2><ul>
<li>写论文</li>
<li>store遇到循环怎么办, 先找到一个本不应fail却fail了的测试样例(注意应查看.ll源码, 确认真的path中有循环), 再编码解决问题</li>
<li>FP相关代码有些混乱，找到所有stupidpanther提交的代码，逐一落实代码的作用，判断写的对不对，查看04-01发现的bug情况。</li>
<li>再写几个测试样例（最好包含 FAIL 和 SUCCEED，样例test_case_brs1_f-B.c实现了触发assert ArrayIndex bound）</li>
<li>指针相关验证的学术界方法(看论文)（理解PPT创新点与难点1.2.）关键点：当malloc参数是变量时，如何建模？如何让heapMemory::memSize的类型为Variable*这个伏笔真正发挥作用？<br><em>「批注」</em>可以找程序堆建模的文献的参考文献</li>
<li>z3的表达式类型（目的是理解PPT创新点与难点3.）</li>
<li>llvm IR</li>
<li>solveSAT是基于路径遍历的吗</li>
<li>reorderPath（在BoundedVerifier:L288被引用）是做什么用的</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/blogs/vscode-cppext-cout/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blogs/vscode-cppext-cout/" class="post-title-link" itemprop="url">使用VSCode编辑C++代码cout报错问题解决</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-09 11:48:30 / Modified: 13:14:03" itemprop="dateCreated datePublished" datetime="2022-03-09T11:48:30+08:00">2022-03-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blogs/" itemprop="url" rel="index"><span itemprop="name">blogs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这是VSCode的C/C++插件的一个BUG！</p>
<p>推荐的解决方案是将VSCode的C/C++插件降级至<code>1.3.1</code>版本。方法如下：</p>
<ol>
<li>安装好C/C++插件的最新<code>Release</code>版本；</li>
<li>点击<code>Uninstall</code>旁的下箭头按钮，选择“安装其他Release版本”；</li>
<li>在弹出的下拉框中选择<code>1.3.1</code>。</li>
</ol>
<p>可以在插件菜单中检查，C/C++插件已经降级至<code>1.3.1</code>版本。</p>
<p><strong>参考</strong></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/44094817/why-is-visual-studio-code-telling-me-that-cout-is-not-a-member-of-std-namespace/67972238#67972238">https://stackoverflow.com/questions/44094817/why-is-visual-studio-code-telling-me-that-cout-is-not-a-member-of-std-namespace/67972238#67972238</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/blogs/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%9B%86%E5%90%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blogs/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%9B%86%E5%90%88/" class="post-title-link" itemprop="url">常用命令集合</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-09 11:20:01 / Modified: 11:29:06" itemprop="dateCreated datePublished" datetime="2022-03-09T11:20:01+08:00">2022-03-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blogs/" itemprop="url" rel="index"><span itemprop="name">blogs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>配置<code>git lg</code>：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.lg <span class="string">&quot;log --color --graph --pretty=format:&#x27;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#x27; --abbrev-commit&quot;</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/blogs/%E8%AE%A4%E8%AF%86%E7%BB%93%E6%9E%84%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blogs/%E8%AE%A4%E8%AF%86%E7%BB%93%E6%9E%84%E6%A0%91/" class="post-title-link" itemprop="url">认识结构树</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-06 22:02:44" itemprop="dateCreated datePublished" datetime="2022-03-06T22:02:44+08:00">2022-03-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-03-09 09:57:44" itemprop="dateModified" datetime="2022-03-09T09:57:44+08:00">2022-03-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blogs/" itemprop="url" rel="index"><span itemprop="name">blogs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>认识<ul>
<li>数学<ul>
<li>数理逻辑<ul>
<li>公理集合论</li>
<li>模型论</li>
<li>证明论</li>
<li>递归论</li>
</ul>
</li>
<li>数论</li>
<li>代数</li>
<li>几何</li>
<li>拓扑</li>
<li>分析<ul>
<li>微分</li>
<li>积分</li>
<li>级数</li>
</ul>
</li>
<li>计算数学</li>
<li>概率论</li>
<li>数理统计</li>
<li>运筹学</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6">计算机科学</a><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E7%90%86%E8%AE%BA">计算理论</a><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%A8%A1%E5%9E%8B">形式语言和自动机</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8F%AF%E8%AE%A1%E7%AE%97%E6%80%A7%E7%90%86%E8%AE%BA">可计算性理论</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%A8%88%E7%AE%97%E8%A4%87%E9%9B%9C%E6%80%A7%E7%90%86%E8%AB%96">计算复杂性理论</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80%E7%90%86%E8%AB%96">程序设计语言</a><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BD%A2%E5%BC%8F%E8%AF%AD%E4%B9%89%E5%AD%A6">形式语义</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%A1%9E%E5%9E%8B%E7%B3%BB%E7%B5%B1">类型系统</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90">程序分析</a><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%9D%9C%E6%85%8B%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90">静态程序分析</a><ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Model_checking">模型检验</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E9%87%8A%E4%B9%89">抽象解释</a></li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Software_verification">程序验证</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%BC%96%E7%A8%8B%E8%8C%83%E5%9E%8B">程序设计范式</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%B7%A8%E8%AD%AF%E5%99%A8">编译</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%BF%90%E8%A1%8C%E6%97%B6%E7%B3%BB%E7%BB%9F">运行时系统</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B">软件工程</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%AE%97%E6%B3%95">算法与数据结构</a></li>
<li>计算机系统<ul>
<li>计算机组成原理</li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84">计算机系统结构</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">操作系统</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F">嵌入式系统</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%AE%9E%E6%97%B6%E8%AE%A1%E7%AE%97">实时系统</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C">计算机网络</a></li>
<li>计算机应用<ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6">图形学</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93">数据库</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD">人工智能</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AE%89%E5%85%A8">安全</a></li>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6">硬件</a></li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/blogs/fav-lines/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blogs/fav-lines/" class="post-title-link" itemprop="url">好句分享</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-06 14:33:13 / Modified: 14:37:56" itemprop="dateCreated datePublished" datetime="2022-03-06T14:33:13+08:00">2022-03-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blogs/" itemprop="url" rel="index"><span itemprop="name">blogs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>About Git (What can be recovered)</strong>:</p>
<p>Remember, anything that is committed in Git can almost always be recovered. Even commits that were on branches that were deleted or commits that were overwritten with an –amend commit can be recovered (see Data Recovery for data recovery). However, anything you lose that was never committed is likely never to be seen again.</p>
<p>(ref:<a target="_blank" rel="noopener" href="https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things">https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things</a>)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/blogs/ansi-escape-code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blogs/ansi-escape-code/" class="post-title-link" itemprop="url">ANSI 转义序列</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-05 10:55:09 / Modified: 10:56:42" itemprop="dateCreated datePublished" datetime="2022-03-05T10:55:09+08:00">2022-03-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blogs/" itemprop="url" rel="index"><span itemprop="name">blogs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/ANSI%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97">ANSI转义序列</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/blogs/fav-exten-vscode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blogs/fav-exten-vscode/" class="post-title-link" itemprop="url">好用的 vscode 插件分享</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-05 10:42:52 / Modified: 10:44:23" itemprop="dateCreated datePublished" datetime="2022-03-05T10:42:52+08:00">2022-03-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blogs/" itemprop="url" rel="index"><span itemprop="name">blogs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Git Graph<br>GitLens</p>
<p>Todo Tree</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/blogs/fav-articles/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blogs/fav-articles/" class="post-title-link" itemprop="url">经典文章分享</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-24 14:59:34" itemprop="dateCreated datePublished" datetime="2022-02-24T14:59:34+08:00">2022-02-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-04-09 23:29:11" itemprop="dateModified" datetime="2022-04-09T23:29:11+08:00">2022-04-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blogs/" itemprop="url" rel="index"><span itemprop="name">blogs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>Profession</strong></p>
<blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/ANSI%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97">ANSI转义序列</a></li>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/book/en/v2">Pro Git Book</a></li>
<li><a target="_blank" rel="noopener" href="https://wizardforcel.gitbooks.io/100-gdb-tips/content/index.html">《100个gdb小技巧》</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cs.cmu.edu/afs/cs/academic/class/15492-f07/www/pthreads.html#CREATIONTERMINATION">POSIX thread (pthread) libraries</a></li>
</ul>
</blockquote>
<p><strong>Blogs</strong></p>
<blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/55249a0272ad">编译时提示 Could NOT find OpenSSL 的解决方法</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43934110/article/details/109103942">vscode使用简单的正则表达式进行查找/替换</a></li>
</ul>
</blockquote>
<p><strong>Linux</strong></p>
<blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/welhzh/p/8031136.html">ubuntu 用 apt get 安装某个包的某个版本</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41010198/article/details/109094426">Ubuntu16.04开启多个工作桌面，以及不同桌面之间的切换，Ubuntu进行同一桌面分屏,Terminal分屏</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/b78ef59298eb">删除 Ubuntu 20.04 桌面回收站图标</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/larry2016/p/13977297.html">linux opt, usr文件夹说明</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/youxia/p/LinuxDesktop007.html">Linux 桌面玩家指南：07. Linux 中的 Qemu、KVM、VirtualBox、Xen 虚拟机体验 </a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/hnrainll/archive/2011/09/06/2168604.html">Linux man命令的使用方法</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_28442665/article/details/84796054">Linux shell遍历文件夹——提取文件名和目录名</a></li>
<li><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/1120.html">Shell字符串截取（非常详细）</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/59579682ab14">shell数组中元素含有空格处理</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/aoyi0189/article/details/101386309">关于while read line 循环中变量作用域的问题</a><br>shell子进程导致的bug</li>
<li><a target="_blank" rel="noopener" href="https://www.csdn.net/tags/MtTaMgwsNzM2NDY1LWJsb2cO0O0O.html">Shell中字符串比较忽略大小写的问题</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Lockey23/article/details/74625744">shell 数组遍历的3种方法</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/ubuntu-modify-dns.html">ubuntu 修改 DNS 的方法</a></li>
</ul>
</blockquote>
<p><strong>LaTeX</strong></p>
<blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://liam.page/2014/09/08/latex-introduction/">一份其实很短的 LaTeX 入门文档</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/japinli/article/details/51418977">页眉页脚页码</a></li>
<li><a target="_blank" rel="noopener" href="https://latex-tutorial.com/minipage-latex/">minipage</a></li>
<li><a target="_blank" rel="noopener" href="https://tiankuizhang.github.io/files/00CV_CN/">中文简历</a></li>
<li><a target="_blank" rel="noopener" href="https://www.overleaf.com/learn/latex/List_of_Greek_letters_and_math_symbols">List of Greek letters and math symbols</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/lanchunhui/article/details/54633576">LaTeX —— 特殊符号与数学字体</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/a3be2fa5b0d7">常用数学符号</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/c5009420c962">【转载】LaTeX 对齐方式</a></li>
<li><a target="_blank" rel="noopener" href="https://ctan.org/pkg/ebproof">ebproof – Formal proofs in the style of sequent calculus</a><br>形式化推理宏包</li>
<li><a target="_blank" rel="noopener" href="https://liam.page/2017/03/11/floats-in-LaTeX-basic/">LaTeX 中的浮动体：基础篇</a><br>图片/表格及其固定</li>
</ul>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://liu-yx.cn/blogs/custom-homepage-hexo-next/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="stupidpanther">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stupidpanther's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blogs/custom-homepage-hexo-next/" class="post-title-link" itemprop="url">Hexo博客-NexT主题自定义主页配置方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-21 20:59:43" itemprop="dateCreated datePublished" datetime="2021-04-21T20:59:43+08:00">2021-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-22 13:42:32" itemprop="dateModified" datetime="2021-04-22T13:42:32+08:00">2021-04-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/blogs/" itemprop="url" rel="index"><span itemprop="name">blogs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>在使用Hexo博客框架的Next主题时，默认主页是数篇博客的摘要。想要修改主页（也即首页）的内容（例如给出网站的介绍等），需要进行自定义配置。</p>
<h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><ol>
<li><p><strong>在根目录的<code>source</code>目录下，新建一个<code>index.md</code>文档</strong></p>
<p> 在根目录的<code>source</code>目录下，新建一个名为<code>index.md</code>文档，这个<code>source</code>目录下的<code>index.md</code>文档即是我们自定义的主页。在文档中做出的任何修改均会体现在自定义主页中。</p>
<p> <img src="/assets/source-index.png"></p>
</li>
<li><p><strong>修改根目录下的<code>_config.yml</code>文件的<code>index_generator</code>项</strong></p>
<p> 打开根目录下的<code>_config.yml</code>文件，将<code>index_generator</code>项下的<code>path</code>项的值修改为一个无效值，例如：我将这一项修改为了<code>default-index</code>。目的是使Hexo框架的默认主页指向一个无效值。</p>
<p> <img src="/assets/default-index.png"></p>
</li>
<li><p><strong>修改NexT主题的配置文件（<code>themes/next/_config.yml</code>文件）的<code>Home</code>菜单指向的链接</strong></p>
<p> 打开<code>themes/next/</code>目录下的<code>_config.yml</code>文件，将<code>menu</code>项下的<code>home</code>项的值修改为/ || fa fa-home。使得点击页面中的Home菜单时，可以返回自定义主页。</p>
<p> <img src="/assets/menu-home.png"></p>
</li>
</ol>
<h1 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h1><p><code>source</code>目录下新建的<code>index.md</code>文档将作为自定义的主页，因此，我们需要屏蔽掉系统默认的主页。屏蔽掉系统默认的主页的方法是修改<code>_config.yml</code>配置文件的<code>index_generator</code>项。</p>
<h1 id="后注"><a href="#后注" class="headerlink" title="后注"></a>后注</h1><p>进行上述配置需要的先导知识有：Markdown的基本语法，Hexo博客的搭建和部署，NexT主题的下载和使用，Hexo新建文章的基本命令。</p>
<p><strong>作者：</strong> <a target="_blank" rel="noopener" href="https://www.zhihu.com/people/liuyuxuan-cn">法华寺中班小屁孩</a> @ 知乎</p>
<p><strong>知乎主页：</strong> <a target="_blank" rel="noopener" href="https://www.zhihu.com/people/liuyuxuan-cn">法华寺中班小屁孩 - 知乎</a></p>
<p><strong>文章：</strong><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/366761432">Hexo-NexT主题自定义主页配置方法 - 知乎</a></p>
<blockquote>
<p>在使用Hexo博客框架的Next主题时，默认主页是数篇博客的摘要。想要修改主页（也即首页）的内容（例如给出网站的介绍等），需要进行自定义配置……</p>
</blockquote>
<blockquote>
<p><a href="/">StupidPanther</a> / <a target="_blank" rel="noopener" href="https://www.zhihu.com/people/liuyuxuan-cn">法华寺中班小屁孩</a> @ 知乎 / <a target="_blank" rel="noopener" href="https://www.cnblogs.com/stupidpanther/">法华寺中班小屁孩</a> @ 博客园 / <a target="_blank" rel="noopener" href="https://segmentfault.com/u/stupidpanther">StupidPanther</a> @ 思否 是同一作者，他人请勿转载</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/default-index/page/2/">2</a><a class="extend next" rel="next" href="/default-index/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="stupidpanther"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">stupidpanther</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/stupidpanther" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;stupidpanther" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:stupidpanther@163.com" title="E-Mail → mailto:stupidpanther@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">stupidpanther</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
